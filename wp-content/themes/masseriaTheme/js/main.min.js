var pizzaParty={},md=new MobileDetect(window.navigator.userAgent),isMobile=md.mobile(),isPhone=md.phone(),isTablet=md.tablet();window.onbeforeunload=function(){return window.scrollTo(0,0)},window.onload=function(){TweenMax.set($(".main"),{autoAlpha:0}),TweenMax.set($("body"),{position:"fixed"});var e=$("#loader");loadIcon=$(".load"),e.delay(2e3).fadeOut(1e3);var a=new TimelineLite;a.add([TweenMax.to(loadIcon,2,{autoAlpha:1,display:"block",onComplete:function(){TweenMax.set($(".main"),{autoAlpha:1}),TweenMax.set($("body"),{position:"absolute"})}})])},pizzaParty.isInView=function(e){return $(e).offset().top-$(window).scrollTop()-$("header").height()/2<$(e).scrollTop()},pizzaParty.themeDark=function(e){return $(e).offset().top-$(window).scrollTop()<$(e).scrollTop()},pizzaParty.colorChange=function(){$("#footer").offset().top,window.pageYOffset||document.documentElement.scrollTo;menuItem=$("ul.menu li a"),navLogo=$(".logo-nav"),navLogoDark=$(".logo-nav-dark"),hamburger=$(".hamburger").find("span"),$("section").each(function(e,a){pizzaParty.isInView(a)&&$(a).hasClass("theme-dark")?isMobile?(TweenMax.to(hamburger,.2,{backgroundColor:"#8a2012",ease:Linear.easeOut}),navLogo.css({display:"none"}),navLogoDark.css({display:"none"})):(TweenMax.to(menuItem,.2,{color:"#8a2012",ease:Linear.easeOut}),navLogo.css({display:"none"}),navLogoDark.css({display:"block"}),menuItem.on("mouseenter",function(){$(this).css({borderBottom:"1px solid #8a2012",transition:".2s ease-out"})}),menuItem.on("mouseleave",function(){$(this).css({borderBottom:"1px solid transparent",transition:".2s ease-out"})})):pizzaParty.isInView(a)&&!$(a).hasClass("theme-dark")&&(isMobile?(TweenMax.to(hamburger,.2,{backgroundColor:"#e9e6d8",ease:Linear.easeOut}),navLogo.css({display:"none"}),navLogoDark.css({display:"none"})):(TweenMax.to(menuItem,.2,{color:"#e9e6d8",ease:Linear.easeOut}),navLogo.css({display:"block"}),navLogoDark.css({display:"none"}),menuItem.on("mouseenter",function(){$(this).css({borderBottom:"1px solid #e9e6d8",transition:".2s ease-out"})}),menuItem.on("mouseleave",function(){$(this).css({borderBottom:"1px solid transparent",transition:".2s ease-out"})})))})},pizzaParty.hamburgerNav=function(){var e=document.getElementsByClassName("hamburger")[0],a=document.getElementsByClassName("mobile-nav")[0],t=document.getElementsByClassName("bar-1")[0],i=document.getElementsByClassName("bar-2")[0],o=document.getElementsByClassName("bar-3")[0],s=$(".mobile-nav ul li"),n=!1;TweenMax.set(a,{autoAlpha:0}),TweenMax.set(t,{y:-6}),TweenMax.set(o,{y:6}),TweenMax.set(s,{autoAlpha:0});var r=new TimelineLite({paused:!0});r.to([t,o],.3,{y:0,x:0,rotation:0,scale:1}),r.to(i,.1,{autoAlpha:0,ease:Linear.easeOut}),r.to(t,.3,{rotation:45,ease:Power3.easeOut}),r.to(o,.3,{rotation:-45,ease:Power3.easeOut},"-=.3"),e.addEventListener("click",function(){0==n?(n=!0,r.play(),TweenMax.to([t,o],.1,{backgroundColor:"#8a2012",ease:Linear.easeOut}),TweenMax.to(a,.3,{autoAlpha:1,ease:Linear.easeOut}),TweenMax.to(s,.3,{autoAlpha:1,delay:.5})):1==n&&(n=!1,r.reverse(),TweenMax.to(s,.1,{autoAlpha:0}),TweenMax.to(a,.3,{autoAlpha:0,ease:Linear.easeOut}),$("section").each(function(e,a){$(this).hasClass("theme-dark")&&pizzaParty.themeDark(this)?(TweenMax.to(t,.1,{backgroundColor:"#8a2012",ease:Linear.easeOut}),TweenMax.to(o,.1,{backgroundColor:"#8a2012",ease:Linear.easeOut})):!$(this).hasClass("theme-dark")&&pizzaParty.themeDark(this)?(TweenMax.to(t,.1,{backgroundColor:"#e9e6d8",ease:Linear.easeOut}),TweenMax.to(o,.1,{backgroundColor:"#e9e6d8",ease:Linear.easeOut})):(TweenMax.to(t,.1,{backgroundColor:"#e9e6d8",ease:Linear.easeOut}),TweenMax.to(o,.1,{backgroundColor:"#e9e6d8",ease:Linear.easeOut}))}))}),$('.mobile-nav ul li a[href*="#"]:not([href="#"])').click(function(){n=!1,TweenMax.to(a,.3,{autoAlpha:0,ease:Linear.easeOut}),r.reverse()})},pizzaParty.menuNav=function(){var e=[$(".Pizze"),$(".Panino"),$(".Assaggi"),$(".Insalate"),$(".Dolce")],a=[$(".Vino"),$(".Birra"),$(".Amaro"),$(".Freddo"),$(".Caldo")];$("#menu .menu-nav ul li").click(function(){var t=$("#food"),i=$("#create"),o=$("#drink"),s=$(this).attr("id");if("food"==s)i.removeClass("active-tab"),o.removeClass("active-tab"),t.addClass("active-tab"),e.map(function(e){var a=e;a.css({visibility:"visible",display:"block",opacity:"1"})}),a.map(function(e){var a=e;a.css({visibility:"hidden",display:"none",opacity:"0"})}),$(".Create").css({visibility:"hidden",display:"none",opacity:"0"}),$("#menu .inner-wrapper").css({display:"flex",flexWrap:"no-wrap",flexDirection:"column",height:"auto"});else if("create"==s)t.removeClass("active-tab"),o.removeClass("active-tab"),i.addClass("active-tab"),$(".Create").css({visibility:"visible",opacity:"1",display:"block"}),e.map(function(e){var a=e;a.css({visibility:"hidden",display:"none",opacity:"0"})}),a.map(function(e){var a=e;a.css({visibility:"hidden",display:"none",opacity:"0"})}),isMobile&&$("#menu .inner-wrapper").css({display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"flex-start"});else{if("drink"!=s)return!1;t.removeClass("active-tab"),i.removeClass("active-tab"),o.addClass("active-tab"),e.map(function(e){var a=e;a.css({visibility:"hidden",display:"none",opacity:"0"})}),a.map(function(e){var a=e;a.css({visibility:"visible",display:"block",opacity:"1"}),isMobile?$("#menu .inner-wrapper").css({display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"flex-start"}):isTablet?$("#menu .inner-wrapper").css({display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"flex-start"}):$("#menu .inner-wrapper").css({display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"flex-start"})}),$(".Create").css({visibility:"hidden",display:"none",opacity:"0"})}})},pizzaParty.init=function(){function e(){var e=$(this).scrollTop();Math.abs(o-e)<=s||(e>o&&e>n?TweenMax.to($("header"),.5,{y:-100,ease:Power1.easeOut}):e+$(window).height()<$(document).height()&&TweenMax.to($("header"),.5,{y:0,ease:Power1.easeOut}),o=e)}function a(){var e=$("header");return mns="main-nav-scrolled",hdr=$("#home").height(),!isMobile&&void($(this).scrollTop()>hdr?e.addClass(mns):$(this).scrollTop()>hdr/3?(e.removeClass(mns),$(".logo").css({opacity:"0"})):(e.removeClass(mns),$(".logo").css({opacity:"1"}).delay(1e3)))}function t(){this.width=document.documentElement.clientWidth,this.height=document.documentElement.clientHeight,this.halfWidth=this.width/2,this.halfHeight=this.height/2}$(".slider").on("swipe",function(e,a,t){$(".slider").slick("slickCurrentSlide")}),$(".slider").slick({centerMode:!0,speed:300,slidesToShow:3,slidesToScroll:1,mobileFirst:!0,variableWidth:!0,touchMove:!0}),isMobile&&(document.getElementsByClassName("slick-prev")[0].style.display="none",document.getElementsByClassName("slick-next")[0].style.display="none");var i,o=0,s=5,n=$("header").outerHeight();setInterval(function(){i&&(e(),i=!1)},250),window.addEventListener("scroll",function(){return a(),pizzaParty.colorChange(),!isMobile&&void($(this).scrollTop()>$("#home").height()?(i=!0,$("header").addClass("main-nav-scrolled")):$(this).scrollTop()>$("#home").height()-200?TweenMax.to($("header"),.5,{y:-100,ease:Power1.easeOut}):TweenMax.to($("header"),.5,{y:0,ease:Power1.easeOut}))}),$('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html, body").animate({scrollTop:e.offset().top},1e3),!1}}),pizzaParty.hamburgerNav(),pizzaParty.menuNav(),window.addEventListener("resize",t),t(),document.addEventListener("mousemove",function(e){this.width=document.documentElement.clientWidth,this.height=document.documentElement.clientHeight,this.halfWidth=this.width/2,this.halfHeight=this.height/2,this.xOffset=0,this.yOffset=0;var a=e.clientX;e.clientY;a>=this.halfWidth?(this.xOffset=-(a-this.halfWidth)/this.halfWidth,$("#customCursor").css({transform:"rotate(0deg)"})):a<this.halfWidth&&(this.xOffset=1-a/this.halfWidth,$("#customCursor").css({transform:"rotate(180deg)"}))},!1),$(".slick-arrow").mouseleave(function(){return $("#customCursor").hide(),!1}),$(".slick-arrow").mouseenter(function(){return $("#customCursor").css({display:"block"}),!1}),$(".slick-arrow").mousemove(function(e){$("#customCursor").css("left",e.clientX).css("top",e.clientY+100)}),window.sr=ScrollReveal({reset:!1,mobile:!1}),sr.reveal("#home-text .inner-wrapper p",{origin:"top",scale:1,distance:"0",delay:200,easing:"cubic-bezier(0.6, 0.2, 0.1, 1)",viewFactor:.75}),sr.reveal("#carbone-banner",{origin:"bottom",scale:1,distance:"100px",easing:"ease-out",viewFactor:.15}),sr.reveal(".carbone-text .text-1",{origin:"left",scale:1,distance:"0",delay:"300",easing:"cubic-bezier(0.6, 0.2, 0.1, 1)"}),sr.reveal(".carbone-text .text-2",{origin:"left",scale:1,distance:"0",delay:"300",easing:"cubic-bezier(0.6, 0.2, 0.1, 1)"}),sr.reveal("#about .text",{origin:"top",scale:1,distance:"0",easing:"cubic-bezier(0.6, 0.2, 0.1, 1)",viewFactor:.5})},$(function(){$(".post-thumbnail-title img").hide(),pizzaParty.init()});